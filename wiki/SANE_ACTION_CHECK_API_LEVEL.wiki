#summary SANE_ACTION_CHECK_API_LEVEL

May be used only if SANE version is >= 1.1.0 . See QuickDevGuide.


== frontend use ==

The frontend must not make any assumption about the capabilities
of the backend unless otherwise noted.

{{{
#include <sane/helper.h>

        SANE_Int sane_version;
        sane_init(&sane_version, NULL);

        if (SANE_HAS_EVOLVED(sane_version)) {
                SANE_Int level = SANE_API_LEVEL(1, 1, 0);
                result = sane_check_api_level(handle, &level);
        }
}}}


== backend implementation ==

A backend should use the level given by the frontend to determine
if API level related features should be used. 

{{{
        ...

        switch (action) {
        case SANE_ACTION_CHECK_API_LEVEL:
                s->compat_level = *(SANE_Word *) value; /* frontend level */
                *(SANE_Word *) value = SANE_API_LEVEL(1, 1, 0); /* backend level */
                break;

        ...

        if (s->compat_level >= SANE_API_LEVEL(1, 1, 0))
                ... 
}}}